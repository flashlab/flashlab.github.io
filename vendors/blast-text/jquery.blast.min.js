/*! Blast.js (2.0.0): julian.com/research/blast (C) 2015 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
!function(e,t,a,r){var n=function(){if(a.documentMode)return a.documentMode;for(var e=7;e>0;e--){var t=a.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return r}(),i=t.console||{log:function(){},time:function(){}},s="blast",d="–—′’'“″„\"(«.…¡¿′’'”″“\")».…!?",l="\\u0041-\\u005A\\u0061-\\u007A\\u00C0-\\u017F\\u0100-\\u01FF\\u0180-\\u027F",o={abbreviations:new RegExp("[^"+l+"](e\\.g\\.)|(i\\.e\\.)|(mr\\.)|(mrs\\.)|(ms\\.)|(dr\\.)|(prof\\.)|(esq\\.)|(sr\\.)|(jr\\.)[^"+l+"]","ig"),innerWordPeriod:new RegExp("["+l+"].["+l+"]","ig"),onlyContainsPunctuation:new RegExp("[^"+d+"]"),adjoinedPunctuation:new RegExp("^["+d+"]+|["+d+"]+$","g"),skippedElements:/(script|style|select|textarea)/i,hasPluginClass:new RegExp("(^| )blast( |$)","gi")};e.fn[s]=function(d){function c(e){return e.replace(/{{(\d{1,3})}}/g,(function(e,t){return String.fromCharCode(t)}))}function u(e,t){var r=a.createElement(t.tag);if(r.className=s,t.customClass&&(r.className+=" "+t.customClass,t.generateIndexID&&(r.id=t.customClass+"-"+f.blastedIndex)),"all"===t.delimiter&&/\s/.test(e.data)&&(r.style.whiteSpace="pre-line"),!0===t.generateValueClass&&!t.search&&("character"===t.delimiter||"word"===t.delimiter)){var n,i=e.data;"word"===t.delimiter&&o.onlyContainsPunctuation.test(i)&&(i=i.replace(o.adjoinedPunctuation,"")),n=s+"-"+t.delimiter.toLowerCase()+"-"+i.toLowerCase(),r.className+=" "+n}return t.aria&&r.setAttribute("aria-hidden","true"),r.appendChild(e.cloneNode(!1)),r}function g(e,t){var a=-1,r=0;if(3===e.nodeType&&e.data.length){if(f.nodeBeginning&&(e.data=t.search||"sentence"!==t.delimiter?c(e.data):function(e){return e.replace(o.abbreviations,(function(e){return e.replace(/\./g,"{{46}}")})).replace(o.innerWordPeriod,(function(e){return e.replace(/\./g,"{{46}}")}))}(e.data),f.nodeBeginning=!1),-1!==(a=e.data.search(m))){var n=e.data.match(m),i=n[0],s=n[1]||!1;""===i?a++:s&&s!==i&&(a+=i.indexOf(s),i=s);var d=e.splitText(a);d.splitText(i.length),r=1,t.search||"sentence"!==t.delimiter||(d.data=c(d.data));var l=u(d,t,f.blastedIndex);d.parentNode.replaceChild(l,d),f.wrappers.push(l),f.blastedIndex++}}else if(1===e.nodeType&&e.hasChildNodes()&&!o.skippedElements.test(e.tagName)&&!o.hasPluginClass.test(e.className))for(var p=0;p<e.childNodes.length;p++)f.nodeBeginning=!0,p+=g(e.childNodes[p],t);return r}function p(a,d){d.debug&&i.time("blast reversal");var l=!1;a.removeClass(s+"-root").removeAttr("aria-label").find("."+s).each((function(){if(e(this).closest(".blast-root").length)l=!0;else{var t=this.parentNode;7>=n&&t.firstChild.nodeName,t.replaceChild(this.firstChild,this),t.normalize()}})),t.Zepto?a.data(s,r):a.removeData(s),d.debug&&(i.log(s+": Reversed Blast"+(a.attr("id")?" on #"+a.attr("id")+".":".")+(l?" Skipped reversal on the children of one or more descendant root elements.":"")),i.timeEnd("blast reversal"))}var m,h=e.extend({},e.fn[s].defaults,d),f={};if(h.search.length&&("string"==typeof h.search||/^\d/.test(parseFloat(h.search))))h.delimiter=h.search.toString().replace(/[-[\]{,}(.)*+?|^$\\\/]/g,"\\$&"),m=new RegExp("(?:^|[^-"+l+"])("+h.delimiter+"('s)?)(?![-"+l+"])","i");else switch("string"==typeof h.delimiter&&(h.delimiter=h.delimiter.toLowerCase()),h.delimiter){case"all":m=/(.)/;break;case"letter":case"char":case"character":m=/(\S)/;break;case"word":m=/\s*(\S+)\s*/;break;case"sentence":m=/(?=\S)(([.]{2,})?[^!?]+?([.…!?]+|(?=\s+$)|$)(\s*[′’'”″“")»]+)*)/;break;case"element":m=/(?=\S)([\S\s]*\S)/;break;default:if(!(h.delimiter instanceof RegExp))return i.log(s+": Unrecognized delimiter, empty search string, or invalid custom Regex. Aborting."),!0;m=h.delimiter}if(this.each((function(){var t=e(this),n=t.text();if(!1!==d){f={blastedIndex:0,nodeBeginning:!1,wrappers:f.wrappers||[]},t.data(s)===r||"search"===t.data(s)&&!1!==h.search||(p(t,h),h.debug&&i.log(s+": Removed element's existing Blast call.")),t.data(s,!1!==h.search?"search":h.delimiter),h.aria&&t.attr("aria-label",n),h.stripHTMLTags&&t.html(n);try{a.createElement(h.tag)}catch(e){h.tag="span",h.debug&&i.log(s+": Invalid tag supplied. Defaulting to span.")}t.addClass(s+"-root"),h.debug&&i.time(s),g(this,h),h.debug&&i.timeEnd(s)}else!1===d&&t.data(s)!==r&&p(t,h);h.debug&&e.each(f.wrappers,(function(e,t){i.log(s+" ["+h.delimiter+"] "+this.outerHTML),this.style.backgroundColor=e%2?"#f12185":"#075d9a"}))})),!1!==d&&!0===h.returnGenerated){var b=e().add(f.wrappers);return b.prevObject=this,b.context=this.context,b}return this},e.fn.blast.defaults={returnGenerated:!0,delimiter:"word",tag:"span",search:!1,customClass:"",generateIndexID:!1,generateValueClass:!1,stripHTMLTags:!1,aria:!0,debug:!1}}(window.jQuery||window.Zepto,window,document);